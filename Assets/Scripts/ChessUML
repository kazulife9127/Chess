@startuml MR_Chess
title MR_Chessのクラス図

package Enum{
    enum TeamColor {
    Black
    White
    }
    enum PieceType {
        Pawn
        Bishop 
        Knight 
        Rook
        Queen 
        King
    }
}

package Unit{
    class Bishop{

    class King{
        
    }
    class Queen{
        
    }
    class Knight{
        
    }
    class Rook{
        
    }
    class Pawn{
        
    }
}

package ChessGame{
class BoardLayout {
    
}
class BoardSquareSetup{
    
}
abstract class Piece{
    
}
abstract class Board{
    
}
class MaterialSetter{
    
}
class PiecesCreator{
    
}
abstract class ChessGameController{

}
class ChessPlayer{

}
class SquareSelectorCreator{

}
}

package InputSystem{
class BoardInputHandler{

}
interface IInputHandler{

}
abstract class InputReciever{

}

class ColliderInputReciever{

}
}


package GameMode{
   package SingleGameMode{
    class SingleplayerBoard{

    }
    class SingleplayerChessGameController{

    }
    class SingleUIManager{
        
    }
}
package MultiGameMode{
    
    class MultiplayerBoard{

    }
    class MultiplayerChessGameContoller{

    }
    package Network{
    class PhotonManager{

    }
    class Room{

    }
}
} 
}




package Tweener{
interface IObjectTweener{

}
class ArcTweener{

}
}
package UI{
abstract class ChessUImanager{

}
class UIInputReciever{

}
class UIButton{
    
}
class UIInputHandler{

}
}

class SceneController{

}

BoardLayout --*  BoardSquareSetup : コンポジション

Bishop --|> Piece: 継承
King --|> Piece
Queen --|> Piece 
Knight --|> Piece 
Rook --|> Piece 
Pawn --|> Piece

Piece -- Board: 関連

PiecesCreator --o ChessGameController: 集約

ChessGameController -- Board: 関連
MultiplayerChessGameContoller --o ChessGameController: 集約
SingleplayerChessGameController --o ChessGameController: 集約
ChessPlayer --o ChessGameController: 集約

Board --o ChessPlayer: 集約
SquareSelectorCreator --o Board: 集約

BoardLayout --o ChessGameController: 集約

MaterialSetter --o Piece: 集約

Board --o BoardInputHandler: 集約
SingleplayerBoard --|> Board: 継承
MultiplayerBoard --|> Board: 継承

BoardInputHandler ..> IInputHandler: 依存

SingleUIManager --o ChessUImanager: 集約
MultiUIManager --o ChessUImanager: 集約
IInputHandler --o InputReciever: 集約
UIInputReciever --|> InputReciever: 継承
UIButton --|> InputReciever: 継承
UIInputHandler --|> IInputHandler: 継承
MultiGameMode -- Network
ColliderInputReciever --|> InputReciever: 継承

IObjectTweener --o Piece: 集約
ArcTweener ..> IObjectTweener: 依存


@enduml